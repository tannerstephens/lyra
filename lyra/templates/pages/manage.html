{% extends "pages/_base.html" %}

{% block content %}
<section class="section">
  <div class="container">
    <div class="modal" id="modal">
      <div class="modal-background"></div>
      <div class="modal-content">
        <div class="box is-fullwidth">
          <h1 class="title is-4">Are you sure you want to remove {{ group['name']|truncate(20) }}?</h1>
          <div class="has-text-centered">
            <a class="button is-danger is-large" href="/groups/{{ group['id'] }}/remove">Remove!</a>
            <button class="button is-info is-large" id="back">Go Back</button>
          </div>
        </div>
      </div>
    </div>

    <div class="level">
      <div class="level-left">
        <h1 class="title is-2">{{ group['name'] }}</h1>
      </div>
      <div class="level-right">
        <button id="remove" class="button is-danger">Stop Managing Group</button>
        &nbsp;
        <a class="button is-info" href="/groups">Back</a>
      </div>
    </div>

    <div class="box">
      <h2 class="title is-4">Manage Plugins</h2>

      <form action="/groups/{{ group['id'] }}/update" method="POST">
        <div class="columns is-multiline">
          {% for plugin in plugins %}
            <div class="column is-one-third-desktop is-half-tablet">
              <div class="field">
                <input class="is-checkradio is-medium is-dark" type="checkbox" name="{{ plugin.name }}" id="{{ plugin.name }}" {% if plugin in enabled_plugins %}checked{% endif %}>
                <label for="{{ plugin.name }}" data-tooltip="{{ plugin.help }}">{{ plugin.name }}</label>
              </div>
            </div>
          {% endfor %}
        </div>
        <div class="field is-grouped">
          <div class="control">
            <button class="button is-info" type="submit">Update</button>
          </div>
          <div class="control">
            <a class="button is-info is-light" href="/groups/{{ group['id'] }}">Cancel</a>
          </div>
        </div>
      </form>
    </div>
  </div>
</section>
{% endblock %}

{% block header %}
  <script src="{{ url_for('static', filename='js/removeConfirm.js') }}"></script>
{% endblock %}
